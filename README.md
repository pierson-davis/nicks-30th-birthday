# saveApp Share Site (`nicks30.net`)

This repo is now a dedicated Open Graph + Universal Link service for saveApp shares.

## What it serves

- `GET /share/:token` - Server-rendered HTML with Open Graph tags
- `GET /s/:token` - Short redirect to `/share/:token`
- `GET /.well-known/apple-app-site-association` - Universal link config for iOS

## Local run

```bash
npm install
npm run dev
# open http://localhost:3000/share/test-token
```

## Environment variables

- `PORT` (default `3000`)
- `PUBLIC_BASE_URL` (default `https://nicks30.net`)
- `IOS_APP_SCHEME` (default `saveapp`)
- `APP_TEAM_ID` (default `KU4HZ94MVK`)
- `APP_BUNDLE_ID` (default `com.pierson.saveApp`)

Optional data integration:
- `SHARE_DATA_ENDPOINT` - backend endpoint to resolve token data (e.g. title/description/image)
- `SHARE_DATA_BEARER_TOKEN` - optional auth token for that endpoint

## Integrate real share data later

Wire your backend endpoint to return:

```json
{
  "title": "Uka Omakase - $38 OMAKASE",
  "description": "Shared from saveApp",
  "imageUrl": "https://.../image.jpg"
}
```

Then set `SHARE_DATA_ENDPOINT` and restart.

## Deploy

Use any Node host (Render/Railway/Fly/Vercel with Node server support).

After deploy:
1. Set `PUBLIC_BASE_URL=https://nicks30.net`
2. Point GoDaddy DNS (`A`/`CNAME`) to that host
3. Verify:
   - `https://nicks30.net/share/test`
   - `https://nicks30.net/.well-known/apple-app-site-association`

## iOS alignment

This matches app links generated by saveApp:
- `https://nicks30.net/share/<token>`
- `saveapp://share/<token>`
